{
 "Resources": {
  "AwsApiCallS3putObject": {
   "Type": "Custom::DeployAssert@SdkCallS3putObject",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "SingletonFunction1488541a7b23466481b69b4408076b81HandlerCD40AE9F",
      "Arn"
     ]
    },
    "service": "S3",
    "api": "putObject",
    "parameters": {
     "Bucket": "aws-serverless-examples-integ-test-s3-thumbnail-bucket",
     "Key": "test.png",
     "Body": {
      "type": "Buffer",
      "data": [
       137,
       80,
       78,
       71,
       13,
       10,
       26,
       10,
       0,
       0,
       0,
       13,
       73,
       72,
       68,
       82,
       0,
       0,
       2,
       88,
       0,
       0,
       1,
       144,
       4,
       3,
       0,
       0,
       0,
       128,
       27,
       3,
       171,
       0,
       0,
       0,
       27,
       80,
       76,
       84,
       69,
       239,
       239,
       239,
       0,
       0,
       0,
       209,
       209,
       209,
       149,
       149,
       149,
       89,
       89,
       89,
       59,
       59,
       59,
       29,
       29,
       29,
       119,
       119,
       119,
       179,
       179,
       179,
       191,
       64,
       175,
       231,
       0,
       0,
       0,
       9,
       112,
       72,
       89,
       115,
       0,
       0,
       14,
       196,
       0,
       0,
       14,
       196,
       1,
       149,
       43,
       14,
       27,
       0,
       0,
       6,
       132,
       73,
       68,
       65,
       84,
       120,
       156,
       237,
       219,
       205,
       115,
       211,
       70,
       24,
       199,
       113,
       91,
       126,
       211,
       177,
       11,
       73,
       224,
       104,
       23,
       226,
       225,
       136,
       25,
       160,
       61,
       198,
       45,
       180,
       215,
       186,
       211,
       132,
       30,
       49,
       45,
       180,
       71,
       92,
       210,
       12,
       199,
       24,
       218,
       105,
       254,
       236,
       74,
       187,
       171,
       125,
       145,
       30,
       25,
       148,
       67,
       187,
       206,
       124,
       63,
       135,
       16,
       255,
       176,
       99,
       251,
       241,
       163,
       213,
       106,
       37,
       247,
       122,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       240,
       191,
       184,
       247,
       252,
       236,
       244,
       167,
       247,
       81,
       244,
       207,
       243,
       55,
       167,
       239,
       166,
       189,
       79,
       102,
       159,
       45,
       187,
       138,
       110,
       230,
       231,
       103,
       175,
       95,
       60,
       234,
       125,
       50,
       75,
       206,
       83,
       165,
       29,
       253,
       225,
       146,
       108,
       169,
       147,
       195,
       203,
       224,
       94,
       82,
       214,
       193,
       66,
       61,
       12,
       110,
       221,
       55,
       79,
       249,
       115,
       239,
       19,
       89,
       114,
       108,
       173,
       138,
       106,
       185,
       104,
       105,
       147,
       195,
       105,
       111,
       103,
       246,
       249,
       50,
       21,
       22,
       107,
       88,
       61,
       229,
       143,
       187,
       179,
       228,
       28,
       43,
       245,
       235,
       163,
       105,
       246,
       224,
       241,
       218,
       21,
       107,
       174,
       212,
       139,
       15,
       189,
       7,
       79,
       148,
       186,
       221,
       219,
       149,
       117,
       48,
       14,
       139,
       149,
       173,
       213,
       225,
       251,
       105,
       246,
       113,
       21,
       132,
       82,
       150,
       156,
       226,
       69,
       254,
       98,
       127,
       251,
       211,
       71,
       102,
       91,
       184,
       239,
       95,
       184,
       148,
       117,
       177,
       12,
       31,
       54,
       183,
       27,
       115,
       177,
       101,
       223,
       222,
       149,
       37,
       103,
       174,
       14,
       154,
       209,
       29,
       251,
       219,
       86,
       221,
       221,
       145,
       117,
       144,
       171,
       184,
       137,
       222,
       186,
       248,
       178,
       61,
       75,
       207,
       170,
       217,
       40,
       75,
       23,
       229,
       110,
       28,
       147,
       178,
       14,
       230,
       234,
       194,
       63,
       207,
       208,
       247,
       206,
       86,
       189,
       108,
       207,
       146,
       51,
       105,
       54,
       125,
       30,
       244,
       218,
       194,
       126,
       222,
       82,
       214,
       197,
       234,
       112,
       236,
       139,
       181,
       85,
       39,
       213,
       175,
       131,
       170,
       97,
       165,
       44,
       57,
       179,
       230,
       59,
       31,
       7,
       159,
       236,
       80,
       221,
       106,
       205,
       58,
       152,
       168,
       87,
       65,
       177,
       214,
       65,
       107,
       46,
       213,
       180,
       53,
       75,
       206,
       178,
       185,
       77,
       109,
       195,
       253,
       150,
       253,
       148,
       165,
       172,
       131,
       173,
       186,
       28,
       7,
       219,
       113,
       208,
       204,
       246,
       195,
       146,
       178,
       228,
       100,
       194,
       104,
       189,
       10,
       235,
       103,
       139,
       41,
       101,
       29,
       172,
       15,
       122,
       190,
       88,
       163,
       112,
       76,
       26,
       154,
       27,
       82,
       150,
       156,
       161,
       250,
       161,
       30,
       101,
       209,
       40,
       54,
       211,
       187,
       38,
       41,
       235,
       244,
       44,
       47,
       131,
       98,
       205,
       194,
       93,
       138,
       253,
       180,
       164,
       44,
       57,
       253,
       230,
       251,
       30,
       68,
       67,
       210,
       88,
       15,
       188,
       82,
       214,
       193,
       162,
       24,
       132,
       124,
       177,
       22,
       209,
       144,
       180,
       62,
       104,
       203,
       146,
       179,
       104,
       110,
       81,
       113,
       179,
       77,
       244,
       38,
       33,
       101,
       78,
       30,
       61,
       60,
       159,
       54,
       254,
       162,
       238,
       75,
       95,
       172,
       229,
       97,
       248,
       159,
       155,
       163,
       182,
       44,
       57,
       203,
       230,
       103,
       56,
       142,
       134,
       215,
       92,
       247,
       148,
       148,
       57,
       171,
       104,
       162,
       182,
       125,
       213,
       248,
       139,
       163,
       178,
       212,
       190,
       88,
       235,
       104,
       255,
       176,
       213,
       61,
       37,
       101,
       201,
       89,
       55,
       71,
       135,
       218,
       150,
       169,
       199,
       15,
       41,
       171,
       12,
       163,
       241,
       44,
       87,
       81,
       143,
       104,
       155,
       163,
       105,
       88,
       172,
       120,
       68,
       50,
       127,
       90,
       202,
       82,
       147,
       169,
       47,
       26,
       89,
       237,
       99,
       213,
       159,
       185,
       148,
       185,
       191,
       17,
       29,
       3,
       108,
       85,
       163,
       179,
       114,
       93,
       9,
       87,
       172,
       90,
       95,
       234,
       166,
       149,
       178,
       228,
       228,
       122,
       244,
       201,
       207,
       207,
       222,
       248,
       181,
       191,
       133,
       138,
       238,
       178,
       58,
       104,
       201,
       156,
       227,
       160,
       181,
       138,
       99,
       161,
       105,
       253,
       73,
       204,
       91,
       119,
       197,
       26,
       196,
       31,
       208,
       168,
       220,
       91,
       72,
       89,
       114,
       38,
       229,
       171,
       250,
       203,
       44,
       35,
       253,
       54,
       53,
       89,
       109,
       116,
       213,
       67,
       175,
       148,
       57,
       97,
       107,
       9,
       141,
       101,
       239,
       237,
       138,
       85,
       219,
       61,
       232,
       125,
       135,
       148,
       37,
       103,
       88,
       124,
       232,
       199,
       229,
       178,
       223,
       186,
       248,
       97,
       183,
       173,
       184,
       18,
       166,
       78,
       82,
       230,
       249,
       214,
       146,
       26,
       203,
       78,
       59,
       92,
       177,
       106,
       149,
       208,
       117,
       146,
       178,
       228,
       140,
       212,
       195,
       129,
       82,
       47,
       46,
       139,
       183,
       121,
       161,
       236,
       11,
       174,
       237,
       32,
       245,
       228,
       66,
       202,
       60,
       223,
       90,
       82,
       99,
       217,
       249,
       102,
       80,
       172,
       147,
       240,
       191,
       7,
       166,
       88,
       205,
       44,
       57,
       99,
       117,
       185,
       169,
       22,
       189,
       159,
       218,
       253,
       88,
       60,
       32,
       21,
       239,
       191,
       37,
       11,
       84,
       173,
       37,
       53,
       86,
       245,
       88,
       87,
       172,
       218,
       128,
       148,
       151,
       195,
       149,
       148,
       37,
       167,
       175,
       62,
       186,
       163,
       226,
       162,
       63,
       116,
       107,
       173,
       226,
       195,
       100,
       83,
       44,
       33,
       11,
       84,
       173,
       37,
       53,
       86,
       181,
       73,
       5,
       197,
       138,
       118,
       117,
       182,
       88,
       205,
       44,
       57,
       125,
       181,
       240,
       83,
       154,
       161,
       169,
       219,
       53,
       138,
       101,
       91,
       75,
       108,
       172,
       173,
       125,
       130,
       253,
       47,
       214,
       76,
       173,
       131,
       25,
       229,
       90,
       152,
       76,
       155,
       41,
       150,
       148,
       133,
       76,
       107,
       73,
       141,
       149,
       85,
       15,
       117,
       197,
       26,
       215,
       11,
       115,
       75,
       206,
       146,
       51,
       83,
       225,
       171,
       156,
       233,
       145,
       227,
       58,
       197,
       210,
       173,
       37,
       54,
       214,
       168,
       218,
       207,
       221,
       132,
       98,
       133,
       251,
       181,
       161,
       238,
       254,
       235,
       108,
       134,
       186,
       181,
       164,
       198,
       42,
       118,
       156,
       83,
       243,
       203,
       77,
       216,
       12,
       195,
       227,
       58,
       179,
       106,
       117,
       173,
       98,
       21,
       173,
       117,
       71,
       106,
       44,
       191,
       52,
       117,
       19,
       138,
       21,
       245,
       187,
       94,
       71,
       170,
       77,
       19,
       22,
       194,
       212,
       97,
       209,
       44,
       86,
       209,
       90,
       82,
       99,
       249,
       165,
       175,
       182,
       169,
       195,
       64,
       152,
       58,
       12,
       18,
       45,
       86,
       52,
       115,
       214,
       19,
       245,
       238,
       147,
       82,
       109,
       46,
       53,
       86,
       176,
       2,
       189,
       255,
       147,
       210,
       89,
       252,
       34,
       117,
       199,
       116,
       63,
       220,
       209,
       182,
       210,
       153,
       234,
       96,
       164,
       222,
       255,
       195,
       157,
       190,
       80,
       172,
       206,
       7,
       210,
       90,
       121,
       202,
       185,
       121,
       218,
       125,
       238,
       11,
       184,
       255,
       7,
       210,
       181,
       98,
       233,
       41,
       65,
       231,
       37,
       26,
       251,
       208,
       223,
       133,
       115,
       219,
       193,
       29,
       247,
       127,
       137,
       102,
       44,
       20,
       171,
       235,
       226,
       159,
       86,
       206,
       177,
       142,
       27,
       173,
       53,
       9,
       198,
       252,
       253,
       95,
       252,
       27,
       197,
       253,
       174,
       27,
       168,
       31,
       53,
       72,
       102,
       151,
       149,
       155,
       89,
       164,
       156,
       99,
       101,
       141,
       214,
       234,
       171,
       215,
       167,
       149,
       149,
       42,
       127,
       150,
       215,
       94,
       197,
       53,
       53,
       231,
       213,
       164,
       44,
       53,
       181,
       177,
       66,
       23,
       171,
       243,
       9,
       139,
       94,
       117,
       84,
       216,
       104,
       173,
       190,
       170,
       43,
       31,
       184,
       175,
       39,
       44,
       106,
       99,
       133,
       30,
       199,
       227,
       243,
       193,
       213,
       169,
       176,
       102,
       22,
       50,
       147,
       247,
       70,
       107,
       201,
       197,
       138,
       79,
       104,
       219,
       83,
       97,
       66,
       150,
       154,
       248,
       76,
       179,
       25,
       143,
       243,
       218,
       9,
       213,
       183,
       45,
       89,
       160,
       58,
       42,
       172,
       183,
       86,
       246,
       165,
       55,
       87,
       143,
       138,
       159,
       229,
       221,
       226,
       190,
       49,
       61,
       37,
       101,
       201,
       137,
       247,
       107,
       230,
       189,
       70,
       215,
       125,
       216,
       21,
       22,
       41,
       11,
       3,
       51,
       144,
       55,
       71,
       45,
       207,
       159,
       10,
       235,
       135,
       181,
       54,
       167,
       126,
       196,
       44,
       57,
       155,
       240,
       19,
       181,
       171,
       229,
       75,
       225,
       34,
       16,
       41,
       115,
       252,
       114,
       67,
       115,
       135,
       232,
       248,
       98,
       69,
       219,
       180,
       189,
       33,
       101,
       201,
       137,
       166,
       240,
       99,
       179,
       111,
       236,
       124,
       201,
       145,
       95,
       110,
       216,
       209,
       90,
       55,
       224,
       146,
       163,
       232,
       194,
       52,
       123,
       169,
       250,
       40,
       152,
       29,
       141,
       236,
       30,
       64,
       202,
       42,
       225,
       58,
       86,
       123,
       107,
       5,
       23,
       179,
       173,
       130,
       163,
       200,
       149,
       106,
       207,
       82,
       147,
       5,
       11,
       90,
       153,
       61,
       99,
       17,
       158,
       129,
       223,
       216,
       183,
       40,
       101,
       149,
       112,
       29,
       171,
       189,
       181,
       162,
       203,
       36,
       221,
       236,
       206,
       93,
       165,
       41,
       101,
       201,
       217,
       248,
       23,
       57,
       175,
       186,
       108,
       227,
       182,
       205,
       129,
       171,
       145,
       148,
       25,
       241,
       2,
       105,
       107,
       107,
       5,
       197,
       154,
       248,
       11,
       84,
       23,
       213,
       211,
       75,
       89,
       114,
       70,
       238,
       27,
       19,
       185,
       242,
       43,
       78,
       213,
       11,
       223,
       184,
       166,
       145,
       50,
       99,
       18,
       221,
       206,
       132,
       227,
       70,
       45,
       40,
       86,
       177,
       157,
       157,
       84,
       143,
       117,
       133,
       150,
       178,
       228,
       172,
       212,
       193,
       180,
       252,
       55,
       95,
       185,
       158,
       40,
       182,
       37,
       243,
       61,
       130,
       191,
       253,
       37,
       233,
       82,
       102,
       93,
       76,
       195,
       91,
       199,
       45,
       109,
       17,
       22,
       235,
       88,
       29,
       61,
       180,
       207,
       121,
       119,
       87,
       150,
       156,
       161,
       82,
       135,
       239,
       62,
       92,
       61,
       94,
       171,
       163,
       203,
       42,
       43,
       191,
       161,
       242,
       245,
       213,
       199,
       239,
       194,
       197,
       79,
       41,
       51,
       178,
       29,
       183,
       188,
       176,
       88,
       69,
       229,
       143,
       190,
       189,
       210,
       207,
       57,
       221,
       149,
       165,
       199,
       125,
       207,
       233,
       155,
       102,
       118,
       32,
       220,
       239,
       154,
       151,
       48,
       134,
       197,
       234,
       13,
       214,
       246,
       143,
       157,
       236,
       206,
       210,
       243,
       164,
       254,
       5,
       186,
       194,
       69,
       116,
       97,
       77,
       123,
       246,
       249,
       162,
       98,
       245,
       38,
       235,
       230,
       115,
       74,
       89,
       122,
       242,
       175,
       158,
       61,
       171,
       127,
       233,
       242,
       222,
       249,
       179,
       239,
       235,
       223,
       147,
       148,
       178,
       235,
       202,
       132,
       231,
       148,
       50,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       0,
       248,
       207,
       253,
       11,
       156,
       220,
       50,
       141,
       205,
       18,
       219,
       69,
       0,
       0,
       0,
       0,
       73,
       69,
       78,
       68,
       174,
       66,
       96,
       130
      ]
     },
     "ContentType": "image/png"
    },
    "flattenResponse": "false",
    "salt": "1678151508870"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete"
  },
  "SingletonFunction1488541a7b23466481b69b4408076b81Role37ABCE73": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ],
    "Policies": [
     {
      "PolicyName": "Inline",
      "PolicyDocument": {
       "Version": "2012-10-17",
       "Statement": [
        {
         "Action": [
          "s3:PutObject"
         ],
         "Effect": "Allow",
         "Resource": [
          "*"
         ]
        }
       ]
      }
     }
    ]
   }
  },
  "SingletonFunction1488541a7b23466481b69b4408076b81HandlerCD40AE9F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Runtime": "nodejs14.x",
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "beae3b1b0c87f0080a6cfa00b9b4dc7b4bbe58a4027c78a961d1b0d0a3eba128.zip"
    },
    "Timeout": 120,
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "SingletonFunction1488541a7b23466481b69b4408076b81Role37ABCE73",
      "Arn"
     ]
    }
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}